<!-- Execution Phase Stepper -->
<div class="execution-stepper" role="region" aria-label="Execution phases">
  <div class="flex justify-between items-center">
    <!-- Phase 1: Queued -->
    <div class="stepper-item" data-phase="queued" data-completed="true" aria-label="Phase: Queued (completed)">
      <div class="stepper-circle">
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
          <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/>
        </svg>
      </div>
      <span class="stepper-label">Queued</span>
    </div>

    <div class="stepper-connector"></div>

    <!-- Phase 2: Running -->
    <div class="stepper-item" data-phase="running" data-completed="true" aria-label="Phase: Running (completed)">
      <div class="stepper-circle">
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
          <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/>
        </svg>
      </div>
      <span class="stepper-label">Running</span>
    </div>

    <div class="stepper-connector"></div>

    <!-- Phase 3: Processing -->
    <div class="stepper-item" data-phase="processing" data-active="true" aria-label="Phase: Processing (active)">
      <div class="stepper-circle loading">
        <div class="spinner"></div>
      </div>
      <span class="stepper-label">Processing</span>
    </div>

    <div class="stepper-connector"></div>

    <!-- Phase 4: Complete -->
    <div class="stepper-item" data-phase="complete" aria-label="Phase: Complete (pending)">
      <div class="stepper-circle">4</div>
      <span class="stepper-label">Complete</span>
    </div>
  </div>
</div>

<style scoped>
.execution-stepper {
  padding: 20px;
  background: var(--color-bg-primary);
}

.stepper-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  flex: 1;
}

.stepper-circle {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--color-bg-secondary);
  color: var(--color-text-secondary);
  font-weight: 600;
  margin-bottom: 8px;
  border: 2px solid var(--color-border);
}

.stepper-item[data-completed="true"] .stepper-circle {
  background-color: var(--color-success);
  color: white;
  border-color: var(--color-success);
}

.stepper-item[data-active="true"] .stepper-circle {
  background-color: var(--color-primary);
  color: white;
  border-color: var(--color-primary);
}

.stepper-circle.loading {
  position: relative;
}

.spinner {
  width: 20px;
  height: 20px;
  border: 2px solid transparent;
  border-top-color: white;
  border-right-color: white;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.stepper-label {
  font-size: 12px;
  font-weight: 500;
  text-align: center;
}

.stepper-connector {
  flex: 1;
  height: 2px;
  background-color: var(--color-border);
  margin: 0 10px;
  margin-top: 20px;
}

.stepper-item[data-completed="true"] ~ .stepper-connector {
  background-color: var(--color-success);
}
</style>
